---Title: How to query and manipulate Lepiter pages---#How to query and manipulate Lepiter pages- [[howto]] [[lepiter]]- #Get the database of the current page:- thisSnippet database- #Get pages containing a specific link:- thisSnippet database pages select: [ :each | each hasLinkNamed: 'todo' ]- #Get pages with a gtTodo link or an uncompleted one:- thisSnippet database pages  select: #hasGtTodo- thisSnippet database pages  select: #hasUncompletedGtTodo- #Find a specific database by name:- gtBook := LeDatabasesRegistry uniqueInstance defaultLogicalDatabase	          databases detect: [ :db | 	          db databaseName = 'Glamorous Toolkit Book' ].- #Categorize all snippets- allSnippets := (gtBook pages deepCollect: #children)		select: [ :each | each isKindOf: LeSnippet ].(allSnippets collect: #class) asBag sortedCounts.- #Find all pages containing a certain kind of snippet (such as a changes snippet):- gtBook pages select: [ :each | 	(each deep: #children		 select: [ :child | child isKindOf: LeChangesSnippet ]) notEmpty ].- gtBook pages select: [ :each | 	(each deep: #children		 select: [ :child | child isKindOf: LeExampleSnippet ]) notEmpty ].- #Find a specific page by name:- memoryPage := gtBook pages detect: [ :each | each title = 'Playing the Memory Game' ]- #Extract all the change snippets from a given page:- memoryPage deep: #children select: [ :child | child isKindOf: LeChangesSnippet ]- #Find all pages containing a specific kind of ast node- (e.g. a gt annotation such as {{gtClass:name=LeMethodAnnotationNode}}):- gtBook pages select: [:each |	(each deep: #children select: [ :child | 		   (child isKindOf: LeTextSnippet) and: [ 			   (child ast // #LeMethodAnnotationNode) notEmpty ] ]) notEmpty ]- #How to find all the unclassified pages?- (thisSnippet database tableOfContentsNodes second children collect:	 #page) reject: #isUnnamedPage