---Title: How to talk to Iceberg---#How to talk to Iceberg- [[howto]] [[iceberg]]- [[todo]] Clean this up and tell a story.- See also [[How to find the repo a class belongs to?]]- This does not work, because the Kernel package is not loaded.- Iceberg repositoryForPackage: Boolean package- But we see in {{gtMethod:name=Iceberg class>>repositoryForPackage:}}  that {{gtClass:name=IceRepository}} is important. See the class comment.- The list of all git repos is returned by:- IceRepository registry- Each entry tells us if it is valid or missing.- IceRepository registry select: #isMissing- IceRepository registry select: #isValid- The repos contain list of packages that may be loaded or not.- IceRepository registry first packages select: #isLoaded- IceRepository registry first packages reject: #isLoaded- We are interested in the loaded packages, whether they are valid or not. Then we can check which repo contains a given class by comparing its name with that of the package of the class.- class := GtLudoDie.IceRepository registry	select: [ :repo | (repo packages collect: #name) includes: class package name ]- [[Q]] How to get the git repo URL from the IceLibgitRepository?- The `location` should be the URL, and the `codeDirectory` the local folder. But what about missing repos? Can we still discover the git repo information?- How to find the classes defined in a package?- Note that `classes` includes both defined and extended classes, so we must specify `definedClasses`.- l := IceRepository registry detect: [ :r | r name = 'lepiter' ].((l packages select: #isLoaded) 	collect: [ :p | p name asPackage ])	flatCollect: #definedClasses