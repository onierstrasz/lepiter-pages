---Title: Fix the terrible Smalltalk syntax on a postcard example!---#Fix the terrible Smalltalk syntax on a postcard example!- [[todo]] [[soon]] [[gtbook]] [[fixpage]]- {{gtTodo:label=Fix the smalltalk postcard syntax example}}- See [this thread](https://discord.com/channels/223421264751099906/278558544146464778/936505478933000212) on discord.- #Original version    - This is the GT book page to fix: {{gtPage:Smalltalk method syntax on a postcard|db=2j9m7db2i4oz116bexd7wbdxo}}    - Here's the original version. {{gtMethod:name=GtPharoMethodExample>>#exampleWithNumber: | expanded}}- #Search for candidates    - It seems that searching for super messages and pragmas is slow, so do that last.    - This only finds the artifical examples:    - ((Object withAllSubclasses flatCollect: #methodDict)	select: [ :each | 		each selfMessages size > 0			and: [ each ast statements size > 1			and: [ each hasComment			and: [ (each sendNodes select: #isUnary) isNotEmpty			and: [ (each sendNodes select: #isBinary) isNotEmpty			and: [ (each sendNodes select: #isKeyword) isNotEmpty			and: [ (each sendNodes select: #isCascaded) isNotEmpty			and: [ each argumentNames isNotEmpty			and: [ (each ast allChildren select: #isReturn) isNotEmpty			and: [ (each ast allChildren select: #isAssignment) isNotEmpty			and: [ each ast temporaries isNotEmpty			and: [ each hasPragma and: [ each superMessages size > 0 ] ] ] ] ] ] ] ] ] ] ] ] ])	sort: [ :a :b | a linesOfCode < b linesOfCode ]    - If we leave out pragmas and super sends we find more interesting candidates:    - (((Object withAllSubclasses flatCollect: #methodDict)	select: [ :each | 		each selfMessages size > 0			and: [ each ast statements size > 1			and: [ each hasComment			and: [ (each sendNodes select: #isUnary) isNotEmpty			and: [ (each sendNodes select: #isBinary) isNotEmpty			and: [ (each sendNodes select: #isKeyword) isNotEmpty			and: [ (each sendNodes select: #isCascaded) isNotEmpty			and: [ each argumentNames isNotEmpty			and: [ (each ast allChildren select: #isReturn) isNotEmpty			and: [ (each ast allChildren select: #isAssignment) isNotEmpty			and: [ each ast temporaries isNotEmpty ] ] ] ] ] ] ] ] ] ] ])	sort: [ :a :b | a linesOfCode < b linesOfCode ])	sort: [ :a :b | a linesOfCode < b linesOfCode ]    - The method {{gtMethod:name=DateAndTime>>#+|expanded}} is interesting.- #Queries    - Features to find: pragma, comment, unary, binary, keyword, arguments, temps, self, super. statements, assignment, return, cascade    - Has multiple statements:        - (Collection withAllSubclasses flatCollect: #methodDict) select: [ 	:each | each ast statements size > 1 ]    - Has comments:        - ((Collection withAllSubclasses flatCollect: #methodDict) select: [ 	 :each | 	 each hasComment 	 ])    - Pragmas, self and super sends.        - (((Object withAllSubclasses flatCollect: #methodDict)	select: [ :each | 		each selfMessages size > 0			and: [ each ast statements size > 1			and: [ each hasComment			and: [ (each sendNodes select: #isUnary) isNotEmpty			and: [ (each sendNodes select: #isBinary) isNotEmpty			and: [ (each sendNodes select: #isKeyword) isNotEmpty			and: [ (each sendNodes select: #isCascaded) isNotEmpty			and: [ each argumentNames isNotEmpty			and: [ (each ast allChildren select: #isReturn) isNotEmpty			and: [ (each ast allChildren select: #isAssignment) isNotEmpty			and: [ each ast temporaries isNotEmpty ] ] ] ] ] ] ] ] ] ] ])	sort: [ :a :b | a linesOfCode < b linesOfCode ])	sort: [ :a :b | a linesOfCode < b linesOfCode ]    - Sends unary messages:        - ((Collection withAllSubclasses flatCollect: #methodDict) select: [ 	 :each | 	 (each sendNodes select: #isUnary) isNotEmpty	 ])        - Ditto for isBinary and isKeyword.    - Cascades:        - ((Collection withAllSubclasses flatCollect: #methodDict) select: [ 	 :each | 	 (each sendNodes select: #isCascaded) isNotEmpty	 ])    - Has arguments:        - ((Collection withAllSubclasses flatCollect: #methodDict) select: [ 	 :each | 	 (each argumentNames) isNotEmpty	 ])    - Has temporaries:        - ((Collection withAllSubclasses flatCollect: #methodDict) select: [ 	 :each | 	 (each ast temporaries) isNotEmpty	 ])    - Has assignment:        - (Collection withAllSubclasses flatCollect: #methodDict) select: [ 	:each | (each ast allChildren select: #isAssignment) isNotEmpty ]    - Has explicit return:    - (Collection withAllSubclasses flatCollect: #methodDict) select: [ 	:each | (each ast allChildren select: #isReturn) isNotEmpty ]